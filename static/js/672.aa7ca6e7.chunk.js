"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[672],{5672:function(e,n,t){t.r(n),t.d(n,{default:function(){return b}});var r=t(9439),s=t(2791),a=t(1002);function i(e,n){if(n.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+n.length+" present")}function l(e){i(1,arguments);var n=Object.prototype.toString.call(e);return e instanceof Date||"object"===(0,a.Z)(e)&&"[object Date]"===n?new Date(e.getTime()):"number"===typeof e||"[object Number]"===n?new Date(e):("string"!==typeof e&&"[object String]"!==n||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}var o={list:"FriendsCards_list__A0P3X",card:"FriendsCards_card__2nOll",title:"FriendsCards_title__3L7B8",columnContainer:"FriendsCards_columnContainer__bwgu3",imgContainer:"FriendsCards_imgContainer__K40SA",img:"FriendsCards_img__iz75W",info:"FriendsCards_info__c4Na2",infoItem:"FriendsCards_infoItem__ludOp",label:"FriendsCards_label__-v44Z",labelNoInfo:"FriendsCards_labelNoInfo__AgTvE",time:"FriendsCards_time__yDRZ-",text:"FriendsCards_text__LD4VJ",textNoInfo:"FriendsCards_textNoInfo__QGOva",workingHoursBlock:"FriendsCards_workingHoursBlock__C9IVu",tableColumn:"FriendsCards_tableColumn__G9Q6j"},c=t(3329);function d(e){var n=e.sponsors,t=(0,s.useState)(null),a=(0,r.Z)(t,2),d=a[0],u=a[1],m=new Date,f=function(e){return i(1,arguments),l(e).getDay()}(m),h=function(e){return i(1,arguments),l(e).getDate()}(m),_=function(e){return i(1,arguments),l(e).getMonth()}(m),p=function(e){return i(1,arguments),l(e).getFullYear()}(m),g=function(e){if(null!==e&&void 0!==e&&e.isOpen)return function(e,n){i(2,arguments);var t=l(e).getTime(),r=l(n.start).getTime(),s=l(n.end).getTime();if(!(r<=s))throw new RangeError("Invalid interval");return t>=r&&t<=s}(m,{start:new Date(p,_,h,parseInt(e.from.split(":")[0]),parseInt(e.from.split(":")[1])),end:new Date(p,_,h,parseInt(e.to.split(":")[0]),parseInt(e.to.split(":")[1]))})},x=function(e){return["MN","TU","WE","TH","FR","SA","SU"][e]},j=function(e){if(!e)return"";var n=e.split(":").map((function(e){return parseInt(e,10)})),t=(0,r.Z)(n,2),s=t[0],a=t[1];return"".concat(s,":").concat(a.toString().padStart(2,"0"))};return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("ul",{className:o.list,children:n.map((function(e,n){var t=e._id,r=e.title,s=e.url,a=e.addressUrl,i=e.imageUrl,l=e.address,m=e.workDays,h=e.phone,_=e.email;return(0,c.jsxs)("li",{className:o.card,children:[(0,c.jsx)("a",{href:s,className:o.title,target:"blanc",children:r}),(0,c.jsxs)("div",{className:o.columnContainer,children:[(0,c.jsx)("div",{className:o.imgContainer,children:(0,c.jsx)("img",{src:i||"https://static.vecteezy.com/system/resources/previews/000/618/739/original/cute-little-kitten-vector.jpg",alt:"Logo",className:o.img})}),(0,c.jsxs)("ul",{className:o.info,children:[(0,c.jsxs)("li",{className:o.infoItem,onClick:function(){return function(e){u(e===d?null:e)}(n)},children:[m?(0,c.jsxs)("div",{className:o.time,children:[(0,c.jsx)("p",{className:o.label,children:"Time:"}),g(m[f])?(0,c.jsx)("p",{className:o.text,children:"Is currently open"}):(0,c.jsx)("p",{className:o.text,children:"Closed"})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("p",{className:o.labelNoInfo,children:"Time:"}),(0,c.jsx)("p",{className:o.textNoInfo,children:"No information"})]}),m&&n===d&&(0,c.jsx)("div",{className:o.workingHoursBlock,children:(0,c.jsx)("table",{className:o.workingHoursTable,children:(0,c.jsx)("tbody",{children:m.map((function(e,n){return(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{className:o.tableColumn,children:x(n)}),(0,c.jsxs)("td",{children:[j(e.from)," -"," ",j(e.to)]})]},n)}))})})})]}),(0,c.jsxs)("li",{className:o.infoItem,children:[(0,c.jsx)("p",{className:o.label,children:"Adress:"}),(0,c.jsx)("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:o.text,children:l||"website only"})]}),_&&(0,c.jsxs)("li",{className:o.infoItem,children:[(0,c.jsx)("p",{className:o.label,children:"Email:"}),(0,c.jsx)("a",{href:"mailto:{email}",className:o.text,children:_})]}),h&&(0,c.jsxs)("li",{className:o.infoItem,children:[(0,c.jsx)("p",{className:o.label,children:"Phone:"}),(0,c.jsx)("a",{href:"tel:{phone}",className:o.text,children:h})]})]})]})]},t)}))})})}var u=t(5861),m=t(4687),f=t.n(m),h=t(1243),_=function(){var e=(0,u.Z)(f().mark((function e(){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.Z.get("/friends");case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=_,g=t(6673),x="OurFriendsPage_container__YtCyY",j="OurFriendsPage_title__b3yc2",N=t(6391);function b(){var e=(0,s.useState)([]),n=(0,r.Z)(e,2),t=n[0],a=n[1],i=(0,s.useState)(!1),l=(0,r.Z)(i,2),o=l[0],u=l[1];return(0,s.useEffect)((function(){u(!0),p().then((function(e){a(e),u(!1)})).catch((function(e){console.log(e),u(!1)}))}),[]),o?(0,c.jsx)(g.Z,{}):(0,c.jsx)(N.Z,{children:(0,c.jsxs)("div",{className:x,children:[(0,c.jsx)("h1",{className:j,children:"Our Friends"}),t.length>0&&(0,c.jsx)(d,{sponsors:t})]})})}}}]);
//# sourceMappingURL=672.aa7ca6e7.chunk.js.map